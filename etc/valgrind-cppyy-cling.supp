#
# Cling/LLVM code generation: since cppyy is a python module, there is no
# proper control over offload ands since functions may be used during atexit()
# calls, we'll just leak all JITed code rather than risk spurious crashes in
# hard-to-reproduce cases.
#
{
   lazily JITed callfuncs
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   fun:_ZN4llvm4UsernwEm
   fun:_ZN5clang7CodeGen13CodeGenModule23GetOrCreateLLVMFunctionEN4llvm9StringRefEPNS2_4TypeENS_10GlobalDeclEbbbNS2_13AttributeListENS0_15ForDefinition_tE
}

{
   lazily JITed template instantiations
   match-leak-kinds: possible
   fun:_Znwm
   ...
   fun:__ZN5clang24TemplateDeclInstantiator18VisitCXXMethodDeclEPNS_13CXXMethodDeclEPNS_21TemplateParameterListEb
}

{
   lazily JITed template instantiations
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   ...
   fun:_ZN5clang4Sema38InstantiateClassTemplateSpecializationENS_14SourceLocationEPNS_31ClassTemplateSpecializationDeclENS_26TemplateSpecializationKindEb
}

{
   lazily JITed global operators
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   fun:_ZN4llvm4UsernwEmj
   fun:_ZN4llvm14BinaryOperator6CreateENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPS1_
}

{
   lazily JITed casts
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   fun:_ZN4llvm4UsernwEmj
   fun:_ZN4llvm8CastInst6CreateENS_11Instruction7CastOpsEPNS_5ValueEPNS_4TypeERKNS_5TwineEPS1_
}

{
   lazily JITed casts
   Memcheck:Leak
   match-leak-kinds: definite
   fun:_Znam
   ...
   fun:_ZN20TClingDataMemberInfo6OffsetEv
}

{
   cling initialization
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   ...
   fun:_ZN5cling11InterpreterC1EiPKPKcS2_bb
}

{
   clang module symbol table
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   fun:allocate
   ...
   fun:_ZN5clang7CodeGen13CodeGenModule7ReleaseEv
   fun:_ZN5cling17IncrementalParser18codeGenTransactionEPNS_11TransactionE
   fun:_ZN5cling17IncrementalParser17commitTransactionEN4llvm14PointerIntPairIPNS_11TransactionELj2ENS0_12EParseResultENS1_21PointerLikeTypeTraitsIS4_EEEE
}

{
   CodeGen
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   ...
   fun:_ZL21EmitMemberInitializerRN5clang7CodeGen15CodeGenFunctionEPKNS_13CXXRecordDeclEPNS_18CXXCtorInitializerEPKNS_18CXXConstructorDeclERNS0_15FunctionArgListE
}

{
   CodeGen cleanup
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   ...
   fun:_ZL11EmitCleanupRN5clang7CodeGen15CodeGenFunctionEPNS0_12EHScopeStack7CleanupENS4_5FlagsEPN4llvm5ValueE
}

{
   CodeGen globals
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Zn*
   ...
   fun:_ZN5clang7CodeGen13CodeGenModule20EmitGlobalDefinitionENS_10GlobalDeclEPN4llvm11GlobalValueE
}

{
   CodeGen cleanup
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   fun:_ZN4llvm4UsernwEmj
   ...
   fun:_ZN5clang7CodeGen15CodeGenFunction15PopCleanupBlockEb
}

{
   cling Module use
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   ...
   fun:_ZN4llvm6ModuleC1ENS_9StringRefERNS_11LLVMContextE
}

{
   cling Module use
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   ...
   fun:_ZN5clang17CodeGeneratorImpl11StartModuleERKSsRN4llvm11LLVMContextERKNS_14CodeGenOptionsE
}

{
   cling macro
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   ...
   fun:_ZN5clang19PreprocessorOptions11addMacroDefEN4llvm9StringRefE
}

{
   llvm target
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   ...
   fun:_ZN4llvm21RegisterTargetMachineINS_16X86TargetMachineEE9AllocatorERKNS_6TargetENS_9StringRefES6_S6_RKNS_13TargetOptionsENS_5Reloc5ModelENS_9CodeModel5ModelENS_10CodeGenOpt5LevelE
}

{
   CodeGent SetFunctionAttributes
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   ...
   fun:_ZN5clang7CodeGen13CodeGenModule21SetFunctionAttributesENS_10GlobalDeclEPN4llvm8FunctionEbb
}

{
   clang using statement
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   ...
   fun:_ZNK5clang11DeclContext16using_directivesEv
}

{
   clang 'make decl visible'
   Memcheck:Leak
   match-leak-kinds: possible
   ...
   fun:_ZN5clang11DeclContext28makeDeclVisibleInContextImplEPNS_9NamedDeclEb
}

{
   clang visibility
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   ...
   fun:_ZL24getExplicitVisibilityAuxPKN5clang9NamedDeclENS0_22ExplicitVisibilityKindEb
}

{
   clang result of lookup declaration name
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   ...
   fun:_ZN5clang11DeclContext6lookupENS_15DeclarationNameE
}

{
   clang result of lookup declaration name
   Memcheck:Leak
   match-leak-kinds: possible
   fun:malloc
   ...
   fun:_ZN5clang11DeclContext6lookupENS_15DeclarationNameE
}

{
   clang ASTReader
   Memcheck:Leak
   match-leak-kinds: possible
   fun:malloc
   ...
   fun:_ZN5clang9ASTReader*
}

{
   clang ASTReader
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   ...
   fun:_ZN5clang9ASTReader*
}

{
   clang ASTReader
   Memcheck:Leak
   match-leak-kinds: possible
   fun:realloc
   ...
   fun:_ZN5clang9ASTReader*
}

{
   Sema ActOnEndOfTranslation
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   ...
   fun:_ZN5clang4Sema25ActOnEndOfTranslationUnitEv
}

{
   Function CodeGen
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   ...
   fun:_ZN5clang7CodeGen15CodeGenFunction12GenerateCodeENS_10GlobalDeclEPN4llvm8FunctionERKNS0_14CGFunctionInfoE
}

{
   clang CodeGenFunction Emit*
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   ...
   fun:_ZN5clang7CodeGen15CodeGenFunction*Emit*
}

{
   clang CodeGenFunction global state
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   fun:_ZN4llvm4UsernwEmj
   ...
   fun:_ZL21emitPointerArithmeticRN5clang7CodeGen15CodeGenFunctionERKN12_GLOBAL__N_19BinOpInfoEb
}

{
   clang CodeGenModule Emit*
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   ...
   fun:_ZN5clang7CodeGen13CodeGenModule*Emit*
}

{
   clang CodeGenModule Emit*
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   ...
   fun:_ZN5clang7CodeGen13CodeGenModule*emit*
}

{
   CodeGen VTables
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   fun:_ZN4llvm4UsernwEmj
   ...
   fun:_ZN5clang7CodeGen14CodeGenVTables17*
}

{
   clang AddIncludePath
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   ...
   fun:_ZN5clang19HeaderSearchOptions7AddPathEN4llvm9StringRefENS_8frontend15IncludeDirGroupEbb
}

{
   clang FileManager
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   ...
   fun:_ZN5clang12HeaderSearch10LookupFileEN4llvm9StringRefENS_14SourceLocationEbPKNS_15DirectoryLookupERS6_NS1_8ArrayRefISt4pairIPKNS_9FileEntryEPKNS_14DirectoryEntryEEEEPNS1_15SmallVectorImplIcEESK_PNS_9ModuleMap11KnownHeaderEbbb
}

{
   clang getFile
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   ...
   fun:_ZN5clang11FileManager7getFileEN4llvm9StringRefEbb
}

{
   clang ScalarExprEmitter
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   ...
   fun:_ZN12_GLOBAL__N_117ScalarExprEmitter20EmitScalarConversionEPN4llvm5ValueEN5clang8QualTypeES5_
}

{
   llvm pass manager
   Memcheck:Leak
   match-leak-kinds: possible
   ...
   fun:_ZN4llvm13FPPassManager13runOnFunctionERNS_8FunctionE
}


{
   llvm PassManager initialization
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   ...
   fun:_ZN4llvm13FPPassManager16doInitializationERNS_6ModuleE
}

{
   llvm SubTarget initialization
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   ...
   fun:_ZN4llvm15MCSubtargetInfo19InitMCSubtargetInfoENS_9StringRefES1_S1_NS_8ArrayRefINS_18SubtargetFeatureKVEEES4_PKNS_15SubtargetInfoKVEPKNS_19MCWriteProcResEntryEPKNS_19MCWriteLatencyEntryEPKNS_18MCReadAdvanceEntryEPKNS_10InstrStageEPKjSL_
}

{
   cling dynamic library manager
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   ...
   fun:_ZN5cling21DynamicLibraryManager11loadLibraryERKSsb
}

{
   llvm compile layer
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   ...
   fun:_ZN4llvm18ObjectMemoryBufferC1EONS_15SmallVectorImplIcEE
   fun:_ZNK4llvm14SimpleCompilerclERNS_6ModuleE
   fun:_ZNSt17_Function_handlerIFN4llvm6object12OwningBinaryINS1_10ObjectFileEEERNS0_6ModuleEENS0_14SimpleCompilerEE9_M_invokeERKSt9_Any_dataS6_
   fun:_ZNKSt8functionIFN4llvm6object12OwningBinaryINS1_10ObjectFileEEERNS0_6ModuleEEEclES6_
   fun:_ZN4llvm14IRCompileLayerINS_18ObjectLinkingLayerIN5cling14IncrementalJIT19NotifyObjectLoadedTEEEE12addModuleSetISt6vectorIPNS_6ModuleESaISA_EEEESt14_List_iteratorINS_22ObjectLinkingLayerBase15LinkedObjectSetEET_St10unique_ptrINS_19RTDyldMemoryManagerESt14default_deleteISJ_EE
}

{
   InputValidator string
   Memcheck:Leak
   match-leak-kinds: possible
   ...
   fun:_ZNSs15_M_replace_safeEmmPKcm
   fun:_ZN5cling14InputValidator5resetEv
}

{
   cling pointer checker on uninitialized memory (ROOT-8144)
   Memcheck:Param
   write(buf)
   fun:__write_nocancel
   ...
   fun:cling_runtime_internal_throwIfInvalidPointer
}


#
# ROOT/meta wrappers to JITed Cling code, same as above: kept around so as to
# not have to deal with complicated shutdown sequences.
#
{
   typedef string
   Memcheck:Leak
   match-leak-kinds: definite
   fun:_Znam
   ...
   fun:_ZN10TClassEdit14ResolveTypedefB5cxx11EPKcb
}

{
   TEnums leak
   Memcheck:Leak
   fun:_Znwm
   fun:_ZN8TStorage11ObjectAllocEm
   fun:_ZN7TObjectnwEm
   fun:_ZN5TROOT14GetListOfEnumsEv
}

{
   list of enums
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   fun:_ZN8TStorage11ObjectAllocEm
   fun:_ZN7TObjectnwEm
   fun:_ZN12TListOfEnumsC1EP6TClass
}

{
   list of enums
   Memcheck:Leak
   match-leak-kinds: definite
   fun:_Znwm
   fun:_ZN8TStorage11ObjectAllocEm
   fun:operator new
   fun:_ZN6TClass14GetListOfEnumsEb
}

{
   TObject::TObject() uses uninitialized value when allocated on the stack
   Memcheck:Cond
   fun:_ZN7TObjectC1Ev
}

{
   TObject::TObject() uses uninitialized value when allocated on the stack
   Memcheck:Cond
   fun:TObject
}

{
   dictgen fwd decls
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znwm
   ...
   fun:_ZN5clang6Parser30ParseCXXClassMemberDeclarationENS_15AccessSpecifierEPNS_13AttributeListERKNS0_18ParsedTemplateInfoEPNS_21ParsingDeclRAIIObjectE
}

{
   exception translation
   Memcheck:Leak
   match-leak-kinds: possible
   fun:_Znam
   ...
   fun:_ZL26HandleInterpreterExceptionPN5cling13MetaProcessorEPKcRNS_11Interpreter17CompilationResultEPNS_5ValueE
}

{
   Ignore deficient in dlopen and/or pthread and/or valgrind. See for example https://bugs.kde.org/show_bug.cgi?id=358980.
   Memcheck:Leak
   match-leak-kinds: definite
   ...
   fun:_dl_signal_error
}


#
# Python Arena magic checkers
#
{
   ADDRESS_IN_RANGE/Invalid read of size 4
   Memcheck:Addr4
   fun:Py_ADDRESS_IN_RANGE
}

{
   ADDRESS_IN_RANGE/Invalid read of size 4
   Memcheck:Value4
   fun:Py_ADDRESS_IN_RANGE
}

{
   ADDRESS_IN_RANGE/Invalid read of size 8 (x86_64 aka amd64)
   Memcheck:Value8
   fun:Py_ADDRESS_IN_RANGE
}

{
   ADDRESS_IN_RANGE/Conditional jump or move depends on uninitialised value
   Memcheck:Cond
   fun:Py_ADDRESS_IN_RANGE
}

{
   ADDRESS_IN_RANGE/Invalid read of size 4
   Memcheck:Addr4
   fun:PyObject_Free
}

{
   ADDRESS_IN_RANGE/Invalid read of size 4
   Memcheck:Addr4
   fun:PyObject_Free
}

{
   ADDRESS_IN_RANGE/Invalid read of size 8
   Memcheck:Value8
   fun:PyObject_Free
}

{
   ADDRESS_IN_RANGE/Conditional jump or move depends on uninitialised value
   Memcheck:Cond
   fun:PyObject_Free
}

{
   ADDRESS_IN_RANGE/Invalid read of size 4
   Memcheck:Addr4
   fun:PyObject_Realloc
}

{
   ADDRESS_IN_RANGE/Invalid read of size 8
   Memcheck:Value8
   fun:PyObject_Realloc
}

{
   ADDRESS_IN_RANGE/Conditional jump or move depends on uninitialised value
   Memcheck:Cond
   fun:PyObject_Realloc
}

{
   Handle PyMalloc confusing valgrind (possibly leaked)
   Memcheck:Leak
   fun:malloc
   ...
   fun:_PyObject_GC_Resize
}

{
   Handle PyMalloc confusing valgrind (possibly leaked)
   Memcheck:Leak
   fun:realloc
   ...
   fun:_PyObject_GC_Resize
}

{
   Handle PyMalloc confusing valgrind (possibly leaked)
   Memcheck:Leak
   fun:malloc
   ...
   fun:_PyObject_GC_NewVar
}

#
# Leaks (including possible leaks)
#    Hmmm, I wonder if this masks some real leaks.  I think it does.
#    Will need to fix that.
#

{
   Suppress leaking the GIL.  Happens once per process, see comment in ceval.c.
   Memcheck:Leak
   fun:malloc
   fun:PyThread_allocate_lock
   fun:PyEval_InitThreads
}

{
   Suppress leaking the GIL after a fork.
   Memcheck:Leak
   fun:malloc
   fun:PyThread_allocate_lock
   fun:PyEval_ReInitThreads
}

{
   Suppress leaking the autoTLSkey.  This looks like it shouldn't leak though.
   Memcheck:Leak
   fun:malloc
   fun:PyThread_create_key
   fun:_PyGILState_Init
   fun:Py_InitializeEx
   fun:Py_Main
}

{
   Hmmm, is this a real leak or like the GIL?
   Memcheck:Leak
   fun:malloc
   fun:PyThread_ReInitTLS
}

{
   Handle PyMalloc confusing valgrind (possibly leaked)
   Memcheck:Leak
   fun:realloc
   fun:_PyObject_GC_Resize
   fun:COMMENT_THIS_LINE_TO_DISABLE_LEAK_WARNING
}

{
   Handle PyMalloc confusing valgrind (possibly leaked)
   Memcheck:Leak
   fun:malloc
   fun:_PyObject_GC_New
   fun:COMMENT_THIS_LINE_TO_DISABLE_LEAK_WARNING
}

{
   Handle PyMalloc confusing valgrind (possibly leaked)
   Memcheck:Leak
   fun:malloc
   fun:_PyObject_GC_NewVar
   fun:COMMENT_THIS_LINE_TO_DISABLE_LEAK_WARNING
}

#
# Non-python specific leaks
#

{
   Handle pthread issue (possibly leaked)
   Memcheck:Leak
   fun:calloc
   fun:allocate_dtv
   fun:_dl_allocate_tls_storage
   fun:_dl_allocate_tls
}

{
   Handle pthread issue (possibly leaked)
   Memcheck:Leak
   fun:memalign
   fun:_dl_allocate_tls_storage
   fun:_dl_allocate_tls
}

###
### All the suppressions below are for errors that occur within libraries
### that Python uses.  The problems to not appear to be related to Python's
### use of the libraries.
###

{
   Generic ubuntu ld problems
   Memcheck:Addr8
   obj:/lib/ld-2.4.so
   obj:/lib/ld-2.4.so
   obj:/lib/ld-2.4.so
   obj:/lib/ld-2.4.so
}

{
   Generic gentoo ld problems
   Memcheck:Cond
   obj:/lib/ld-2.3.4.so
   obj:/lib/ld-2.3.4.so
   obj:/lib/ld-2.3.4.so
   obj:/lib/ld-2.3.4.so
}

{
   DBM problems, see test_dbm
   Memcheck:Param
   write(buf)
   fun:write
   obj:/usr/lib/libdb1.so.2
   obj:/usr/lib/libdb1.so.2
   obj:/usr/lib/libdb1.so.2
   obj:/usr/lib/libdb1.so.2
   fun:dbm_close
}

{
   DBM problems, see test_dbm
   Memcheck:Value8
   fun:memmove
   obj:/usr/lib/libdb1.so.2
   obj:/usr/lib/libdb1.so.2
   obj:/usr/lib/libdb1.so.2
   obj:/usr/lib/libdb1.so.2
   fun:dbm_store
   fun:dbm_ass_sub
}

{
   DBM problems, see test_dbm
   Memcheck:Cond
   obj:/usr/lib/libdb1.so.2
   obj:/usr/lib/libdb1.so.2
   obj:/usr/lib/libdb1.so.2
   fun:dbm_store
   fun:dbm_ass_sub
}

{
   DBM problems, see test_dbm
   Memcheck:Cond
   fun:memmove
   obj:/usr/lib/libdb1.so.2
   obj:/usr/lib/libdb1.so.2
   obj:/usr/lib/libdb1.so.2
   obj:/usr/lib/libdb1.so.2
   fun:dbm_store
   fun:dbm_ass_sub
}

{
   GDBM problems, see test_gdbm
   Memcheck:Param
   write(buf)
   fun:write
   fun:gdbm_open

}

{
   ZLIB problems, see test_gzip
   Memcheck:Cond
   obj:/lib/libz.so.1.2.3
   obj:/lib/libz.so.1.2.3
   fun:deflate
}

{
   Avoid problems w/readline doing a putenv and leaking on exit
   Memcheck:Leak
   fun:malloc
   fun:xmalloc
   fun:sh_set_lines_and_columns
   fun:_rl_get_screen_size
   fun:_rl_init_terminal_io
   obj:/lib/libreadline.so.4.3
   fun:rl_initialize
}

## Suppressions coming from calls by Numba through llvmlite:

{
   llvm::ScalarEvolution pass by numba
   Memcheck:Cond
   fun:_ZN4llvm15ScalarEvolution10createSCEVEPNS_5ValueE.part.0
   fun:_ZN4llvm15ScalarEvolution14createSCEVIterEPNS_5ValueE
   fun:_ZN12_GLOBAL__N_111LSRInstance13CollectChainsEv
   fun:_ZN12_GLOBAL__N_111LSRInstanceC1EPN4llvm4LoopERNS1_7IVUsersERNS1_15ScalarEvolutionERNS1_13DominatorTreeERNS1_8LoopInfoERKNS1_19TargetTransformInfoERNS1_15AssumptionCacheERNS1_17TargetLibraryInfoEPNS1_16MemorySSAUpdaterE
   fun:_ZL18ReduceLoopStrengthPN4llvm4LoopERNS_7IVUsersERNS_15ScalarEvolutionERNS_13DominatorTreeERNS_8LoopInfoERKNS_19TargetTransformInfoERNS_15AssumptionCacheERNS_17TargetLibraryInfoEPNS_9MemorySSAE
   fun:_ZN12_GLOBAL__N_118LoopStrengthReduce9runOnLoopEPN4llvm4LoopERNS1_13LPPassManagerE
   fun:_ZN4llvm13LPPassManager13runOnFunctionERNS_8FunctionE
   fun:_ZN4llvm13FPPassManager13runOnFunctionERNS_8FunctionE
   fun:_ZN4llvm13FPPassManager11runOnModuleERNS_6ModuleE
   fun:_ZN4llvm6legacy15PassManagerImpl3runERNS_6ModuleE
   fun:_ZN4llvm5MCJIT10emitObjectEPNS_6ModuleE
   fun:_ZN4llvm5MCJIT21generateCodeForModuleEPNS_6ModuleE
}
{
   llvm::ScalarEvolution pass by numba
   Memcheck:Cond
   fun:_ZN4llvm15ScalarEvolution10createSCEVEPNS_5ValueE.part.0
   fun:_ZN4llvm15ScalarEvolution14createSCEVIterEPNS_5ValueE
   fun:_ZN4llvm15ScalarEvolution24createSimpleAffineAddRecEPNS_7PHINodeEPNS_5ValueES4_
   fun:_ZN4llvm15ScalarEvolution19createAddRecFromPHIEPNS_7PHINodeE
   fun:_ZN4llvm15ScalarEvolution16createNodeForPHIEPNS_7PHINodeE
   fun:_ZN4llvm15ScalarEvolution14createSCEVIterEPNS_5ValueE
   fun:_ZN4llvm12SCEVExpander25getAddRecExprPHILiterallyEPKNS_14SCEVAddRecExprEPKNS_4LoopERPNS_4TypeERb
   fun:_ZN4llvm12SCEVExpander25expandAddRecExprLiterallyEPKNS_14SCEVAddRecExprE
   fun:_ZN4llvm12SCEVExpander6expandEPKNS_4SCEVE
   fun:_ZN4llvm12SCEVExpander13expandCodeForEPKNS_4SCEVEPNS_4TypeE
   fun:_ZNK12_GLOBAL__N_111LSRInstance6ExpandERKNS_6LSRUseERKNS_8LSRFixupERKNS_7FormulaEN4llvm21ilist_iterator_w_bitsINSA_12ilist_detail12node_optionsINSA_11InstructionELb1ELb0EvLb1ENSA_10BasicBlockEEELb0ELb0EEERNSA_15SmallVectorImplINSA_14WeakTrackingVHEEE.constprop.0
   fun:_ZN12_GLOBAL__N_111LSRInstanceC1EPN4llvm4LoopERNS1_7IVUsersERNS1_15ScalarEvolutionERNS1_13DominatorTreeERNS1_8LoopInfoERKNS1_19TargetTransformInfoERNS1_15AssumptionCacheERNS1_17TargetLibraryInfoEPNS1_16MemorySSAUpdaterE
}
{
   llvm::ScalarEvolution pass by numba
   Memcheck:Cond
   fun:_ZN4llvm15ScalarEvolution10createSCEVEPNS_5ValueE.part.0
   fun:_ZN4llvm15ScalarEvolution14createSCEVIterEPNS_5ValueE
   fun:_ZN4llvm14LoopAccessInfo20collectStridedAccessEPNS_5ValueE
   fun:_ZN4llvm14LoopAccessInfo11analyzeLoopEPNS_9AAResultsEPKNS_8LoopInfoEPKNS_17TargetLibraryInfoEPNS_13DominatorTreeE
   fun:_ZN4llvm14LoopAccessInfoC1EPNS_4LoopEPNS_15ScalarEvolutionEPKNS_19TargetTransformInfoEPKNS_17TargetLibraryInfoEPNS_9AAResultsEPNS_13DominatorTreeEPNS_8LoopInfoE
   fun:_ZN4llvm21LoopAccessInfoManager7getInfoERNS_4LoopE
   fun:_ZN4llvm25LoopVectorizationLegality18canVectorizeMemoryEv
   fun:_ZN4llvm25LoopVectorizationLegality12canVectorizeEb
   fun:_ZN4llvm17LoopVectorizePass11processLoopEPNS_4LoopE
   fun:_ZN4llvm17LoopVectorizePass7runImplERNS_8FunctionE
   fun:_ZN4llvm17LoopVectorizePass3runERNS_8FunctionERNS_15AnalysisManagerIS1_JEEE
   fun:_ZN4llvm6detail9PassModelINS_8FunctionENS_17LoopVectorizePassENS_15AnalysisManagerIS2_JEEEJEE3runERS2_RS5_
}
{
   llvm::ScalarEvolution pass by numba
   Memcheck:Cond
   fun:_ZN4llvm15ScalarEvolution10createSCEVEPNS_5ValueE.part.0
   fun:_ZN4llvm15ScalarEvolution14createSCEVIterEPNS_5ValueE
   fun:_ZN4llvm14LoopAccessInfo20collectStridedAccessEPNS_5ValueE
   fun:_ZN4llvm14LoopAccessInfo11analyzeLoopEPNS_9AAResultsEPKNS_8LoopInfoEPKNS_17TargetLibraryInfoEPNS_13DominatorTreeE
   fun:_ZN4llvm14LoopAccessInfoC1EPNS_4LoopEPNS_15ScalarEvolutionEPKNS_19TargetTransformInfoEPKNS_17TargetLibraryInfoEPNS_9AAResultsEPNS_13DominatorTreeEPNS_8LoopInfoE
   fun:_ZN4llvm21LoopAccessInfoManager7getInfoERNS_4LoopE
   fun:_ZN4llvm25LoopVectorizationLegality18canVectorizeMemoryEv
   fun:_ZN4llvm25LoopVectorizationLegality12canVectorizeEb
   fun:_ZN4llvm17LoopVectorizePass11processLoopEPNS_4LoopE
   fun:_ZN4llvm17LoopVectorizePass7runImplERNS_8FunctionE
   fun:_ZN4llvm17LoopVectorizePass3runERNS_8FunctionERNS_15AnalysisManagerIS1_JEEE
   fun:_ZN4llvm6detail9PassModelINS_8FunctionENS_17LoopVectorizePassENS_15AnalysisManagerIS2_JEEEJEE3runERS2_RS5_
}
{
   llvm::ScalarEvolution pass by numba
   Memcheck:Cond
   fun:_ZN4llvm15ScalarEvolution10createSCEVEPNS_5ValueE.part.0
   fun:_ZN4llvm15ScalarEvolution14createSCEVIterEPNS_5ValueE
   fun:_ZN4llvm15ScalarEvolution10LoopGuards16collectFromBlockERS0_RS1_PKNS_10BasicBlockES6_RNS_15SmallPtrSetImplIS6_EEj
   fun:_ZN4llvm15ScalarEvolution10LoopGuards7collectEPKNS_4LoopERS0_
   fun:_ZN4llvm15ScalarEvolution12howFarToZeroEPKNS_4SCEVEPKNS_4LoopEbb
   fun:_ZN4llvm15ScalarEvolution24computeExitLimitFromICmpEPKNS_4LoopENS_12CmpPredicateEPKNS_4SCEVES7_bb
   fun:_ZN4llvm15ScalarEvolution24computeExitLimitFromICmpEPKNS_4LoopEPNS_8ICmpInstEbbb
   fun:_ZN4llvm15ScalarEvolution28computeExitLimitFromCondImplERNS0_14ExitLimitCacheEPKNS_4LoopEPNS_5ValueEbbb
   fun:_ZN4llvm15ScalarEvolution30computeExitLimitFromCondCachedERNS0_14ExitLimitCacheEPKNS_4LoopEPNS_5ValueEbbb
   fun:_ZN4llvm15ScalarEvolution24computeExitLimitFromCondEPKNS_4LoopEPNS_5ValueEbbb
   fun:_ZN4llvm15ScalarEvolution16computeExitLimitEPKNS_4LoopEPNS_10BasicBlockEbb
   fun:_ZN4llvm15ScalarEvolution25computeBackedgeTakenCountEPKNS_4LoopEb
}
{
   llvm::ScalarEvolution pass by numba
   Memcheck:Cond
   fun:_ZN4llvm15ScalarEvolution10createSCEVEPNS_5ValueE.part.0
   fun:_ZN4llvm15ScalarEvolution14createSCEVIterEPNS_5ValueE
   fun:_ZN12_GLOBAL__N_118LoopIdiomRecognize18runOnCountableLoopEv
   fun:_ZN4llvm22LoopIdiomRecognizePass3runERNS_4LoopERNS_15AnalysisManagerIS1_JRNS_27LoopStandardAnalysisResultsEEEES5_RNS_10LPMUpdaterE
   fun:_ZN4llvm6detail9PassModelINS_4LoopENS_22LoopIdiomRecognizePassENS_15AnalysisManagerIS2_JRNS_27LoopStandardAnalysisResultsEEEEJS6_RNS_10LPMUpdaterEEE3runERS2_RS7_S6_S9_
   fun:_ZN4llvm11PassManagerINS_4LoopENS_15AnalysisManagerIS1_JRNS_27LoopStandardAnalysisResultsEEEEJS4_RNS_10LPMUpdaterEEE13runSinglePassIS1_St10unique_ptrINS_6detail11PassConceptIS1_S5_JS4_S7_EEESt14default_deleteISD_EEEESt8optionalINS_17PreservedAnalysesEERT_RT0_RS5_S4_S7_RNS_19PassInstrumentationE.isra.0
   fun:_ZN4llvm11PassManagerINS_4LoopENS_15AnalysisManagerIS1_JRNS_27LoopStandardAnalysisResultsEEEEJS4_RNS_10LPMUpdaterEEE24runWithoutLoopNestPassesERS1_RS5_S4_S7_
   fun:_ZN4llvm11PassManagerINS_4LoopENS_15AnalysisManagerIS1_JRNS_27LoopStandardAnalysisResultsEEEEJS4_RNS_10LPMUpdaterEEE3runERS1_RS5_S4_S7_
   fun:_ZN4llvm25FunctionToLoopPassAdaptor3runERNS_8FunctionERNS_15AnalysisManagerIS1_JEEE
   fun:_ZN4llvm6detail9PassModelINS_8FunctionENS_25FunctionToLoopPassAdaptorENS_15AnalysisManagerIS2_JEEEJEE3runERS2_RS5_
   fun:_ZN4llvm11PassManagerINS_8FunctionENS_15AnalysisManagerIS1_JEEEJEE3runERS1_RS3_
   fun:_ZN4llvm6detail9PassModelINS_8FunctionENS_11PassManagerIS2_NS_15AnalysisManagerIS2_JEEEJEEES5_JEE3runERS2_RS5_
}
{
   llvm::ScalarEvolution pass by numba
   Memcheck:Cond
   fun:_ZN4llvm15ScalarEvolution10createSCEVEPNS_5ValueE.part.0
   fun:_ZN4llvm15ScalarEvolution14createSCEVIterEPNS_5ValueE
   fun:_ZN4llvm7IVUsers21AddUsersIfInterestingEPNS_11InstructionE
   fun:_ZN4llvm7IVUsers21AddUsersIfInterestingEPNS_11InstructionE
   fun:_ZN4llvm7IVUsersC1EPNS_4LoopEPNS_15AssumptionCacheEPNS_8LoopInfoEPNS_13DominatorTreeEPNS_15ScalarEvolutionE
   fun:_ZN4llvm18IVUsersWrapperPass9runOnLoopEPNS_4LoopERNS_13LPPassManagerE
   fun:_ZN4llvm13LPPassManager13runOnFunctionERNS_8FunctionE
   fun:_ZN4llvm13FPPassManager13runOnFunctionERNS_8FunctionE
   fun:_ZN4llvm13FPPassManager11runOnModuleERNS_6ModuleE
   fun:_ZN4llvm6legacy15PassManagerImpl3runERNS_6ModuleE
   fun:_ZN4llvm5MCJIT10emitObjectEPNS_6ModuleE
   fun:_ZN4llvm5MCJIT21generateCodeForModuleEPNS_6ModuleE
}
{
   llvm::ScalarEvolution pass by numba
   Memcheck:Cond
   fun:_ZN4llvm15ScalarEvolution10createSCEVEPNS_5ValueE.part.0
   fun:_ZN4llvm15ScalarEvolution14createSCEVIterEPNS_5ValueE
   fun:_ZN12_GLOBAL__N_114SimplifyIndvar30replaceIVUserWithLoopInvariantEPN4llvm11InstructionE
   fun:_ZN12_GLOBAL__N_114SimplifyIndvar13simplifyUsersEPN4llvm7PHINodeEPNS1_9IVVisitorE.constprop.0
   fun:_ZN4llvm17simplifyUsersOfIVEPNS_7PHINodeEPNS_15ScalarEvolutionEPNS_13DominatorTreeEPNS_8LoopInfoEPKNS_19TargetTransformInfoERNS_15SmallVectorImplINS_14WeakTrackingVHEEERNS_12SCEVExpanderEPNS_9IVVisitorE
   fun:_ZN4llvm18IndVarSimplifyPass3runERNS_4LoopERNS_15AnalysisManagerIS1_JRNS_27LoopStandardAnalysisResultsEEEES5_RNS_10LPMUpdaterE
   fun:_ZN4llvm6detail9PassModelINS_4LoopENS_18IndVarSimplifyPassENS_15AnalysisManagerIS2_JRNS_27LoopStandardAnalysisResultsEEEEJS6_RNS_10LPMUpdaterEEE3runERS2_RS7_S6_S9_
   fun:_ZN4llvm11PassManagerINS_4LoopENS_15AnalysisManagerIS1_JRNS_27LoopStandardAnalysisResultsEEEEJS4_RNS_10LPMUpdaterEEE13runSinglePassIS1_St10unique_ptrINS_6detail11PassConceptIS1_S5_JS4_S7_EEESt14default_deleteISD_EEEESt8optionalINS_17PreservedAnalysesEERT_RT0_RS5_S4_S7_RNS_19PassInstrumentationE.isra.0
   fun:_ZN4llvm11PassManagerINS_4LoopENS_15AnalysisManagerIS1_JRNS_27LoopStandardAnalysisResultsEEEEJS4_RNS_10LPMUpdaterEEE24runWithoutLoopNestPassesERS1_RS5_S4_S7_
   fun:_ZN4llvm11PassManagerINS_4LoopENS_15AnalysisManagerIS1_JRNS_27LoopStandardAnalysisResultsEEEEJS4_RNS_10LPMUpdaterEEE3runERS1_RS5_S4_S7_
   fun:_ZN4llvm25FunctionToLoopPassAdaptor3runERNS_8FunctionERNS_15AnalysisManagerIS1_JEEE
   fun:_ZN4llvm6detail9PassModelINS_8FunctionENS_25FunctionToLoopPassAdaptorENS_15AnalysisManagerIS2_JEEEJEE3runERS2_RS5_
}
